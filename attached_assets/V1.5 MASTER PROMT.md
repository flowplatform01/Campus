‚úÖ APP ACADEMY ‚Äì VERSION 1.5 MASTER STABILITY, BRANDING & PWA DIRECTIVE
‚ö†Ô∏è CRITICAL INSTRUCTION

This is NOT a rebuild.
This is NOT redesigning the app.
This is NOT replacing stable logic.

This is a deep inspection, stabilization, branding upgrade, PWA transformation, offline enhancement, backend hardening, and permission strengthening phase.

You must:

Inspect before modifying anything.

Verify issues by testing and simulating.

Create sample data where necessary to validate flows.

Never assume logic is broken without confirming.

Not overwrite working systems.

Not redesign UI unnecessarily.

Not remove stable features.

Improve intelligently and incrementally.

Preserve data integrity.

Protect backend stability.

Maintain full TypeScript correctness (zero TS errors).

This is a production-level stabilization and enhancement release.

Goal:
V1.5 must be powerful, branded, offline-capable, PWA-ready, secure, stable, and market-ready.

üéØ V1.5 PRIMARY OBJECTIVES

Strengthen branding identity.

Convert app into full production-ready PWA.

Implement smart offline-first architecture (without breaking online-required flows).

Improve backend stability and crash resistance.

Eliminate all URL-based upload dependency.

Fix all remaining V1.2 functional gaps.

Strengthen permissions system.

Improve export/PDF engine (no screenshots).

Improve performance and smart caching.

Ensure zero silent failure.

Ensure system stability (no random logout, no data reset to zero).

Eliminate backend crashes (especially in payments/invoice/enrollment).

üè∑ PART 1 ‚Äî FULL BRANDING IMPLEMENTATION (NO SPOILING UI)

Branding must be consistent across entire system.

Logo System

Implement:

SVG full logo

SVG horizontal version

SVG icon-only version

Favicon (properly optimized)

App manifest icon set (multiple sizes for PWA)

Use logo in:

Login page

Sidebar

Navbar

Splash screen

Email templates

Report PDFs

ID cards

Certificates

Landing page

Favicon

PWA install icon

Manifest

Loading states

All branding must use:

Consistent brand colors

Consistent typography

Clean spacing

Professional hierarchy

Email Branding

All outgoing emails must include:

App logo at top

Brand color header

Clean typography

Proper spacing

Footer with app name

Consistent formatting

Applies to:

Reset password

Invite

Notification

Enrollment

Approval

Any system email

PDF & Print Branding

For:

Report cards

Class exports

ID cards

Certificates

Payment receipts

Ensure:

Proper header layout

App logo + school logo

Professional formatting

Real tables (NOT screenshots)

Structured data rendering

Calculated values displayed correctly

Proper margins

Clean footer

Under NO circumstance should PDF export capture screen screenshot.

Must render structured document.

üåê PART 2 ‚Äî FULL PWA TRANSFORMATION

Convert entire app into production-ready PWA.

Requirements:

Proper manifest.json

App icons (all required sizes)

Installable on desktop and mobile

Service worker configured properly

Secure caching strategy

No stale data confusion

Version update handling

Install Entry Placement

On login screen (NOT inside dashboard):

Add visible but clean:

‚ÄúDownload Campus App‚Äù

Must:

Be well positioned

Not disturb login flow

Have subtle animation

Trigger install prompt

Not break layout

üì∂ PART 3 ‚Äî SMART OFFLINE-FIRST ARCHITECTURE

Offline-first does NOT mean fully offline.

You must:

Identify which features require online

Identify which features can cache locally

Use smart caching

Use background sync

Show correct state indicators

Must:

Show ‚ÄúOffline Mode‚Äù clearly

Show ‚ÄúSyncing‚Ä¶‚Äù indicator

Prevent fake errors

Prevent showing wrong data

Avoid login invalid error when offline

Handle token properly

Do NOT allow:

Data reset to zero

UI showing empty school as if new

Random logout

Data inconsistency

‚ö° SMART CACHING & SPEED OPTIMIZATION

Implement:

Strategic caching (static assets, common queries)

Lazy loading

Avoid duplicate API calls

Avoid over-fetching

Prevent unnecessary re-renders

Clean memory management

Ensure app feels fast and stable.

üî• BACKEND STABILITY HARDENING

You must deeply inspect backend crash areas:

Especially:

Payments

Invoice creation

Enrollment

Report generation

Steps:

Add error boundary protection

Add proper try/catch

Add validation before DB writes

Prevent null reference crashes

Add transaction safety if required

Validate foreign keys

Validate role permission before write

Prevent duplicate inserts

Add safe logging

Backend must not crash under:

Invalid data

Empty values

Unexpected input

Unauthorized action

üìö ATTENDANCE PERMISSION CORRECTION (CRITICAL)

Teachers must:

Only see subjects assigned to them.

Only take attendance for assigned class.

Only take attendance for linked subject.

Admin:

Has override access.

Authorized subgroup with override:

Must explicitly have permission.

No teacher should:

Select random subject.

Take attendance for unrelated class.

You must:

Inspect subject assignment logic.

Enforce subject filtering.

Enforce role-based attendance permission.

üìÇ REMOVE ALL URL-BASED INPUT (STRICT)

Nothing in app must require URL input.

Audit and remove from:

Resources

Assignment submission

Student submission

Any upload system

Replace with:

File upload

Multi-file upload (max 5 files)

Proper UI preview

Size limit

Type validation

Upload progress indicator

All files must:

Store in Backblaze (not main DB)

DB stores metadata only

Ensure safe linking

Ensure file deletion when parent entity deleted

Database (Neon) must not store large files.

üßæ EXPORT & PDF ENGINE FIX

Audit all export systems:

Exams

Reports

Payments

Attendance

Users

Any print/export feature

Test with sample data.

Ensure:

Proper table rendering

Proper calculated values

Branding present

No screenshot-based export

No broken layout

Clean header and footer

Error handling when empty

Fix class PDF failing issue.
Fix student PDF failing issue.

üë§ USERS TAB IMPROVEMENT

Fix:

‚ÄúFailed to load user info‚Äù issue.

Ensure proper API mapping.

Ensure data hydration correct.

Add:

Select multiple users

Bulk delete

Single delete

Safe confirmation

Cascade deletion (with confirmation)

Ensure no orphan data remains.

ü™™ ID CARD & CERTIFICATE IMPROVEMENT

Ensure:

Uses current profile picture.

Toggle to include/exclude photo.

More student data fields.

Branding included.

Proper layout.

Not minimal.

Not broken.

Profile picture should be clickable and zoomable.

üîê PERMISSIONS SYSTEM FULL EXPANSION

Must:

Reflect ALL new features.

Include searchable permission list.

Fast selection UI.

Role grouping.

Proper mapping to backend enforcement.

No cosmetic permission (must enforce server-side).

Permissions must:

Apply immediately.

Be accurate.

Not partially applied.

Admin always override.

üîÅ HYBRID PASSWORD RESET SYSTEM

Current: link-only.

Upgrade to hybrid:

When user enters email:

System sends:

6-digit code

Reset link

In app interface:

Option 1: Enter 6-digit code

Option 2: Tap link in email

If link tapped:

Opens reset interface

Option to reset password

Or skip

Ensure:

Code expiration

Code validation

Secure handling

No bypass vulnerability

üè´ ENROLLMENT SCHOOL CLASS REFLECTION FIX

When student selects school:

Application form must:

Reflect that school's actual classes.

Not show global static class list.

Properly filter by selected school.

Fix backend crash during enrollment.

Test with sample data.

üßÆ REPORT CARD EXAM LINK FIX

Report generation must include:

Academic year

Term

Class

Exam selection

Exam dropdown must:

Filter by selected term.

Filter by selected class.

Only show relevant exams.

Ensure:

Class overview export works.

Student export works.

Excel export works.

PDF export works.

Test by generating sample records.

‚è∞ AUTO LOCK FEATURE (ASSIGNMENTS & OTHERS)

Add configurable toggle:

If enabled:

Auto-lock after due date.

Default:
Enabled.

Must apply to:

Assignments

Any due-based feature.

UI must allow:
Enable/disable.

üîç RESOURCE MODULE FIX

Remove URL field.
Use file upload.
Ensure storage in Backblaze.
Ensure file metadata only in DB.

üß™ TESTING REQUIREMENT

Before finalizing V1.5:

You must:

Create sample schools.

Create sample teachers.

Create sample students.

Create sample exams.

Generate reports.

Create invoices.

Submit assignments.

Upload files.

Export PDF.

Test offline mode.

Test PWA install.

Test install update.

Test permission restrictions.

Verify:
No crash.
No silent failure.
No TypeScript error.
No backend crash.
No broken UI state.

üèÅ FINAL V1.5 EXPECTATION

After this:

App must be:

Fully branded

Fully installable (PWA)

Offline-smart

Stable backend

Permission-accurate

Export-correct

No URL dependency

No screenshot exports

No attendance misuse

No crash in enrollment

No crash in invoice

No broken PDF

No silent failures

No TypeScript errors

No backend instability

No data reset issue

No random logout

Professionally structured

V1.5 must feel:

Enterprise.
Reliable.
Modern.
Market-ready.
Reputation-safe.