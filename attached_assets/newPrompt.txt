I want to implement a smart hybrid (Institution ID) system in my school management app, but without breaking existing functionality .

IMPORTANT:
This must be backward-compatible and must not modify existing student IDs.

Matricule Format Requirements:

1. Structure:
   [SchoolCode][Year][Role][SequentialNumber]
   Example: CM26S001

2. School Code Logic:
   - Generate 2-letter code from school name
   - Use first letters of first two meaningful words
   - Ignore filler words like "of", "the"
   - Example:
     Mountain Complex → MC
     Complex Mountain → CM

3. Year:
   - Use last 2 digits of admission year
   - Example: 2026 → 26
Role Identifier:
   - S = Student
   - E = Employee

4. Role Identifier:
   - S = Student
   - E = Employee

5. Sequential Number:
   - 3-digit minimum (001, 002…)
   - Sequential per:
     school + year + role
   - No duplicates
   - Use atomic backend generation

6. Smart Behavior:
   - Automatically generate institution ID on user creation
   - Ensure uniqueness at DB level
   - No overwriting existing institution ID
   - Handle late or new admissions by continuing sequence

7. Safety Requirements:
   - Do NOT modify existing IDs
   - smart hybrid but autonomous first
   - Must be backward compatible

8. Backend:
   - Unique constraint on institution ID
   - Transaction-safe increment logic

9. Frontend:
   - Display generated institution ID
   - Allow admin override only if enabled

Please analyze my codebase and:
- Check if a school user ID system already exists
- Refactor safely and smartly if needed
- Implement this as a non-breaking enhancement

note: as you can see my app separates student id from employee id which is poor and that should be merged to just one called institution ID and smartly , so study app too knowing what how it is currently done and properly improving and fixing smartly, no more student id or employee id even on the user side bar tab or app but merged to Institution ID.